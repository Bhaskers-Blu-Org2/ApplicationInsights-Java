<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE configuration>
<configuration>
    <appender name="CONSOLE" class="com.microsoft.applicationinsights.agentc.shadow.ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>

    <!-- site.logdir logs -->
    <include optional="true" resource="${ai.config.appender.user-logdir.location:-rp-logger-config/user-logfile.appender.xml}" />

    <!-- internal troubleshooting/diagnostics logs -->
    <include optional="true" resource="${ai.config.appender.diagnostics.location:-rp-logger-config/diagnostics.appender.xml}" />

    <!-- etw appender; windows only -->
    <include optional="true" resource="${ai.config.appender.etw.location:-rp-logger-config/etw.appender.xml}" />

    <root level="${applicationInsights.agent.logging.level:-error}">
        <appender-ref ref="CONSOLE" />
        <appender-ref ref="USER_LOG_FILE" /><!-- optional; platform dependent -->
        <appender-ref ref="DIAGNOSTICS_FILE" /><!-- optional; platform dependent -->
        <appender-ref ref="ETW_PROVIDER" /><!-- optional; windows only, platform dependent -->
    </root>

    <logger name="applicationinsights.extension.diagnostics" level="${applicationinsights.extension.diagnostics.level:-info}" />
</configuration>
